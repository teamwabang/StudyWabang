# ë¦¬ì•¡íŠ¸ì˜ ë¼ì´í”„ì‚¬ì´í´

## LifeCylce Method ë€?

- ì»´í¬ë„ŒíŠ¸ê°€ ë¸Œë¼ìš°ì €ìƒì— ë‚˜íƒ€ë‚˜ê³ , ì—…ë°ì´íŠ¸ë˜ê³ , ì‚¬ë¼ì§€ê²Œ ë  ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œë“¤
- ìƒëª…ì£¼ê¸° ë©”ì„œë“œëŠ” í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ ì‚¬ìš©ê°€ëŠ¥

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/d12a18ae-0edd-4fc0-bb4d-ff3e5f4323e7/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220824%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220824T060551Z&X-Amz-Expires=86400&X-Amz-Signature=6ce77313e6c7c8b0c90bd4469d67bdd1beaac7a5ae2114509d8dc7b4d928045a&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22&x-id=GetObject)

## ë§ˆìš´íŠ¸

ë§ˆìš´íŠ¸ë  ë•Œ ë°œìƒí•˜ëŠ” ìƒëª…ì£¼ê¸°

- constructor
- getDerivedStateFromProps
- render
- componentDidMount

### constructor

`constructor` ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ìƒì„±ì ë©”ì„œë“œì´ë‹¤. ì»´í¬ë„ŒíŠ¸ê°€ ë§Œë“¤ì–´ì§€ë©´ ê°€ì¥ ë¨¼ì € ì‹¤í–‰ë˜ëŠ” ë©”ì„œë“œ

```jsx
  constructor(props) {
    super(props);
    console.log("constructor");
  }
```

### getDerivedStateFromProps

`getDerivedStateFromProps` ëŠ” `props` ë¡œ ë°›ì•„ì˜¨ ê²ƒì„ `state` ì— ë„£ì–´ì£¼ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©

```jsx
  static getDerivedStateFromProps(nextProps, prevState) {
    console.log("getDerivedStateFromProps");
    if (nextProps.color !== prevState.color) {
      return { color: nextProps.color };
    }
    return null;
  }
```

`static` ì„ í•„ìš”ë¡œ í•˜ê³ , ì´ ì•ˆì—ì„œëŠ” `this` ë¥¼ ì¡°íšŒí•  ìˆ˜ ì—†ë‹¤. ì—¬ê¸°ì„œ íŠ¹ì • ê°ì²´ë¥¼ ë°˜í™˜í•˜ê²Œ ë˜ë©´ í•´ë‹¹ ê°ì²´ ì•ˆì— ìˆëŠ” ë‚´ìš©ë“¤ì´ ì»´í¬ë„ŒíŠ¸ì˜ `state` ë¡œ ì„¤ì • ëœë‹¤. ë°˜ë©´ `null` ì„ ë°˜í™˜í•˜ê²Œ ë˜ë©´ ì•„ë¬´ ì¼ë„ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤

ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë Œë”ë§ ë˜ê¸° ì „ì—ë„ í˜¸ì¶œë˜ê³ , ê·¸ ì´í›„ ë¦¬ë Œë”ë§ ë˜ê¸° ì „ì—ë„ ë§¤ë²ˆ ì‹¤í–‰ëœë‹¤.

### render

ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ë©”ì„œë“œ

### componentDidMount

ì»´í¬ë„ŒíŠ¸ì˜ ì²«ë²ˆì§¸ ë Œë”ë§ì´ ë§ˆì¹˜ê³  ë‚˜ë©´ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ, ì´ ë©”ì„œë“œê°€ í˜¸ì¶œë˜ëŠ” ì‹œì ì—ëŠ” ìš°ë¦¬ê°€ ë§Œë“  ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ë‚˜íƒ€ë‚œ ìƒíƒœ

## ì—…ë°ì´íŠ¸

ì—…ë°ì´íŠ¸ê°€ ë˜ëŠ” ì‹œì ì— í˜¸ì¶œë˜ëŠ” ìƒëª…ì£¼ê¸° ë©”ì„œë“œ

- getDerivedStateFromProps
- shouldComponentUpdate
- render
- getSnapshotBeforeUpdate
- componentDidUpdate

### getDerivedStateFromProps

ì•„ê¹Œ ë‹¤ë¤˜ë˜ ë©”ì„œë“œ, ì»´í¬ë„ŒíŠ¸ì˜ props ë‚˜ state ê°€ ë°”ë€Œì—ˆì„ ë•Œë„ ë©”ì„œë“œê°€ í˜¸ì¶œëœë‹¤

### shouldComponentUpdate

ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ í• ì§€ ë§ì§€ ê²°ì •í•˜ëŠ” ë©”ì„œë“œ

```jsx
  shouldComponentUpdate(nextProps, nextState) {
    console.log("shouldComponentUpdate", nextProps, nextState);
    // ìˆ«ìì˜ ë§ˆì§€ë§‰ ìë¦¬ê°€ 4ë©´ ë¦¬ë Œë”ë§í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤
    return nextState.number % 10 !== 4;
  }
```

ì£¼ë¡œ ìµœì í™” í•  ë•Œ ì‚¬ìš© ( `React.memo` ì™€ ì—­í• ì´ ë¹„ìŠ·í•˜ë‹¤ )

### render

ì•„ê¹Œ ë‹¤ë¤˜ë˜ ë©”ì„œë“œ

### getSnapshotBeforeUpdate

ì»´í¬ë„ŒíŠ¸ì— ë³€í™”ê°€ ì¼ì–´ë‚˜ê¸° ì§ì „ì˜ DOM ìƒíƒœë¥¼ ê°€ì ¸ì™€ì„œ íŠ¹ì • ê°’ì„ ë°˜í™˜í•˜ë©´ ê·¸ ë‹¤ìŒ ë°œìƒí•˜ê²Œ ë˜ëŠ” `componentDidUpdate` í•¨ìˆ˜ì—ì„œ ë°›ì•„ì™€ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ëŠ” ì•„ì§ ì´ ê¸°ëŠ¥ì„ ëŒ€ì²´í• ë§Œí•œ hookì´ ì—†ë‹¤

```jsx
  getSnapshotBeforeUpdate(prevProps, prevState) {
    console.log("getSnapshotBeforeUpdate");
    if (prevProps.color !== this.props.color) {
      return this.myRef.style.color;
    }
    return null;
  }
```

### componentDidUpdate

ë¦¬ë Œë”ë§ì„ ë§ˆì¹˜ê³ , í™”ë©´ì— ìš°ë¦¬ê°€ ì›í•˜ëŠ” ë³€í™”ê°€ ëª¨ë‘ ë°˜ì˜ë˜ê³  ë‚œ ë’¤ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ, 3ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ `getSnapshotBeforeUpdate` ì—ì„œ ë°˜í™˜í•œ ê°’ì„ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.

```jsx
  componentDidUpdate(prevProps, prevState, snapshot) {
    console.log("componentDidUpdate", prevProps, prevState);
    if (snapshot) {
      console.log("ì—…ë°ì´íŠ¸ ë˜ê¸° ì§ì „ ìƒ‰ìƒ: ", snapshot);
    }
  }
```

## ì–¸ë§ˆìš´íŠ¸

ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ì‚¬ë¼ì§€ëŠ” ê²ƒì„ ì˜ë¯¸

- componentWillUnmount

### componentWillUnmount

ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì—ì„œ ì‚¬ë¼ì§€ê¸° ì§ì „ì— í˜¸ì¶œ

<aside>
ğŸ’¡ **componentDidCatch**

ì¶”ê°€ì ìœ¼ë¡œ `componentDidCatch` ê°€ ì¡´ì¬í•œë‹¤. 
- ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ë„ì¤‘ì— ì—ëŸ¬ê°€ ë°œìƒ í–ˆì„ ë•Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë©ˆì¶”ì§€ ì•Šê³  ì˜¤ë¥˜ UIë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

</aside>

```jsx
class Example extends React.Component {
	componentDidCatch(error, info) {
		console.log('ì—ëŸ¬ë°œìƒ')
	}
}
```